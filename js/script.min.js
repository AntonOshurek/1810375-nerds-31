const tab=function(){const e=document.querySelectorAll(".tabs-nav__item"),t=document.querySelectorAll(".tab");let a;function o(){e.forEach(e=>{e.classList.remove("button__radio__active")}),this.classList.add("button__radio__active"),function(e){t.forEach(t=>{t.classList.contains(e)?t.classList.add("is-active"):t.classList.remove("is-active")})}(a=this.getAttribute("data-tab-name"))}e.forEach(e=>{e.addEventListener("click",o)})};tab();const popup=document.getElementById("popup"),popupClose=document.getElementById("modal__close"),popupOpen=document.getElementById("modal__open"),modalBg=document.querySelector(".popup__area"),submitBtn=document.querySelector(".modal__btn__submit"),body=document.getElementById("body"),popupContant=document.querySelector(".popup__content"),modalFocusInput=document.getElementById("modal__text"),closeModal=e=>{e.preventDefault(),popup.classList.remove("popup__show"),body.classList.remove("overflow__body"),popupContant.classList.remove("popup__target"),popupContant.classList.remove("modal__error")},openModal=e=>{e.preventDefault(),popup.classList.add("popup__show"),popupContant.classList.add("popup__target"),modalFocusInput.focus(),body.classList.add("overflow__body"),modalKeyOpt()};function modalKeyOpt(){window.onkeydown=(e=>{27==e.keyCode?closeModal(e):13==e.keyCode&&submitBtn.click()})}popupOpen.addEventListener("click",e=>openModal(e)),popupClose.addEventListener("click",e=>closeModal(e)),modalBg.addEventListener("click",e=>closeModal(e));const modalEmailInput=document.getElementById("modal__email"),footerForm=document.getElementById("set__mail__form"),modalText=document.getElementById("modal__text");function checkEmail(e){return e.match(/^[a-z0-9_][a-z0-0\._-]*[a-z0-9_]*@([a-z0-9]+[a-z0-9_-]*[a-z0-9]+\.)+[a-z0-9]+$/i)}footerForm.addEventListener("submit",e=>{modalText.value&&modalEmailInput.value&&checkEmail(modalEmailInput.value)||(e.preventDefault(),popupContant.classList.remove("modal__error"),popupContant.offsetWidth=popupContant.offsetWidth,popupContant.classList.add("modal__error"))});const rangeToogleMin=document.querySelector(".toggle__min"),rangeToogleMax=document.querySelector(".toggle__max"),rangeBar=document.querySelector(".bar"),rangeMinPrice=document.querySelector(".min-price"),rangeMaxPrice=document.querySelector(".max-price"),minValue=0,maxValue=2e4;let currentMinValue=0,currentMaxValue=2e4;const setMaxValue=e=>{currentMaxValue=e<=2e4&&e>=0?e:-1==Math.sign(e)||-0==Math.sign(e)?0:2e4},getPositionMaxValue=()=>currentMaxValue/2e4*100,changeSecondRangeBtn=e=>{setMaxValue(e.target.value),rangeToogleMax.style.left=`${getPositionMaxValue()}%`,rangeBar.style.width=`${getPositionMaxValue()-getPositionMinValue()}%`};rangeMaxPrice.addEventListener("keyup",e=>changeSecondRangeBtn(e)),rangeMaxPrice.addEventListener("change",e=>changeSecondRangeBtn(e));const setMinValue=e=>{currentMinValue=e<=2e4&&e>=0?e:-1==Math.sign(e)||-0==Math.sign(e)?0:2e4},getPositionMinValue=()=>currentMinValue/2e4*100,changeFirstRangeBtn=e=>{setMinValue(e.target.value),rangeToogleMin.style.left=`${getPositionMinValue()}%`,rangeBar.style.left=`${getPositionMinValue()}%`,rangeBar.style.width=`${getPositionMaxValue()-getPositionMinValue()}%`};rangeMinPrice.addEventListener("keyup",e=>changeFirstRangeBtn(e)),rangeMinPrice.addEventListener("change",e=>changeFirstRangeBtn(e));